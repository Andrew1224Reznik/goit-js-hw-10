{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nconst startBtn = document.querySelector('.btn-start'); // кнопка Start\nconst inputPicker = document.querySelector('#datetime-picker'); // input для вибору дати\n\nconst daysEl = document.querySelector('[data-days]');\nconst hoursEl = document.querySelector('[data-hours]');\nconst minutesEl = document.querySelector('[data-minutes]');\nconst secondsEl = document.querySelector('[data-seconds]');\n\nlet userSelectedDate = null;\nlet timerInterval = null;\n\nflatpickr(inputPicker, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n\n    if (selectedDate <= new Date()) {\n      window.alert('Please choose a date in the future');\n      startBtn.disabled = true;\n      userSelectedDate = null;\n      return;\n    }\n\n    userSelectedDate = selectedDate;\n    startBtn.disabled = false;\n  },\n});\n\nfunction pad(value) {\n  return String(value).padStart(2, '0');\n}\n\nfunction updateTimer() {\n  const now = new Date();\n  const delta = userSelectedDate - now;\n\n  if (delta <= 0) {\n    clearInterval(timerInterval);\n    daysEl.textContent =\n      hoursEl.textContent =\n      minutesEl.textContent =\n      secondsEl.textContent =\n        '00';\n    return;\n  }\n\n  const days = Math.floor(delta / (1000 * 60 * 60 * 24));\n  const hours = Math.floor((delta / (1000 * 60 * 60)) % 24);\n  const minutes = Math.floor((delta / (1000 * 60)) % 60);\n  const seconds = Math.floor((delta / 1000) % 60);\n\n  daysEl.textContent = pad(days);\n  hoursEl.textContent = pad(hours);\n  minutesEl.textContent = pad(minutes);\n  secondsEl.textContent = pad(seconds);\n}\n\nstartBtn.addEventListener('click', () => {\n  if (!userSelectedDate) return;\n  clearInterval(timerInterval);\n  updateTimer();\n  timerInterval = setInterval(updateTimer, 1000);\n  startBtn.disabled = true;\n});\n"],"names":["startBtn","inputPicker","daysEl","hoursEl","minutesEl","secondsEl","userSelectedDate","timerInterval","flatpickr","selectedDates","selectedDate","pad","value","updateTimer","delta","days","hours","minutes","seconds"],"mappings":"wIAGA,MAAMA,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAc,SAAS,cAAc,kBAAkB,EAEvDC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EAEzD,IAAIC,EAAmB,KACnBC,EAAgB,KAEpBC,EAAUP,EAAa,CACrB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQQ,EAAe,CACrB,MAAMC,EAAeD,EAAc,CAAC,EAEpC,GAAIC,GAAgB,IAAI,KAAQ,CAC9B,OAAO,MAAM,oCAAoC,EACjDV,EAAS,SAAW,GACpBM,EAAmB,KACnB,MACD,CAEDA,EAAmBI,EACnBV,EAAS,SAAW,EACrB,CACH,CAAC,EAED,SAASW,EAAIC,EAAO,CAClB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAEA,SAASC,GAAc,CAErB,MAAMC,EAAQR,EADF,IAAI,KAGhB,GAAIQ,GAAS,EAAG,CACd,cAAcP,CAAa,EAC3BL,EAAO,YACLC,EAAQ,YACRC,EAAU,YACVC,EAAU,YACR,KACJ,MACD,CAED,MAAMU,EAAO,KAAK,MAAMD,GAAS,IAAO,GAAK,GAAK,GAAG,EAC/CE,EAAQ,KAAK,MAAOF,GAAS,IAAO,GAAK,IAAO,EAAE,EAClDG,EAAU,KAAK,MAAOH,GAAS,IAAO,IAAO,EAAE,EAC/CI,EAAU,KAAK,MAAOJ,EAAQ,IAAQ,EAAE,EAE9CZ,EAAO,YAAcS,EAAII,CAAI,EAC7BZ,EAAQ,YAAcQ,EAAIK,CAAK,EAC/BZ,EAAU,YAAcO,EAAIM,CAAO,EACnCZ,EAAU,YAAcM,EAAIO,CAAO,CACrC,CAEAlB,EAAS,iBAAiB,QAAS,IAAM,CAClCM,IACL,cAAcC,CAAa,EAC3BM,IACAN,EAAgB,YAAYM,EAAa,GAAI,EAC7Cb,EAAS,SAAW,GACtB,CAAC"}